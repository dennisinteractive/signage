services:
  signage.event.payload:
    class: Drupal\signage\Event\EventPayload

  signage.event.output.url:
    class: Drupal\signage\Event\UrlEvent
    arguments: ['@signage.event.payload']

  signage.event.output.message:
    class: Drupal\signage\Event\MessageEvent
    arguments: ['@signage.event.payload', '@signage.message']

  signage.event.output.factory:
    class: Drupal\signage\Event\OutputEventFactory
    calls:
      - method: addEvent
        arguments:
          - '@signage.event.output.url'
      - method: addEvent
        arguments:
          - '@signage.event.output.message'

  signage.event.input.subscriber:
    class: Drupal\signage\EventSubscriber\InputEventSubScriber
    arguments: ['@event_dispatcher', '@signage.action.service', '@signage.channel.service']
    tags:
      - { name: 'event_subscriber' }

  signage.entity.update.subscriber:
    class: Drupal\signage\EventSubscriber\EntityUpdateEventSubscriber
    arguments: ['@event_dispatcher', '@signage.device']
    tags:
      - { name: 'event_subscriber' }

  signage.event.subscriber.debug:
    class: Drupal\signage\EventSubscriber\DrupalMessageEventSubscriber
    tags:
      - { name: 'event_subscriber' }

  signage.event.subscriber.url:
    class: Drupal\signage\EventSubscriber\UrlEventSubscriber
    arguments: ['@signage.pending.action.service']
    tags:
      - { name: 'event_subscriber' }

  signage.event.subscriber.message:
    class: Drupal\signage\EventSubscriber\MessageEventSubscriber
    tags:
      - { name: 'event_subscriber' }

  signage.message:
    class: Drupal\signage\Event\Message

  signage.action:
    class: Drupal\signage\Action\Action
    arguments: ['@signage.event.output.factory']

  signage.action.service:
    class: Drupal\signage\Service\ActionService
    arguments: ['@signage.action']

  signage.pending.action.service:
    class: Drupal\signage\Service\PendingActionService
    arguments: ['@database']

  signage.channel:
    class: Drupal\signage\Channel\Channel
    arguments: ['@state']

  signage.channel.service:
    class: Drupal\signage\Service\ChannelService
    arguments: ['@signage.channel']

  signage.device:
    class: Drupal\signage\Device\Device
    arguments: ['@signage.channel']

